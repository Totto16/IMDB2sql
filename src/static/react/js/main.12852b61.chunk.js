(window["webpackJsonpreact-frontend"]=window["webpackJsonpreact-frontend"]||[]).push([[0],{58:function(e,t,n){e.exports=n(72)},63:function(e,t,n){},64:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),c=n.n(o),i=(n(63),n(31)),l=n(23),u=n(46),s=n(47),p=n(53),f=(n(64),n(16)),m=n(38),d=n(29),h=n(19),g=n(4),b=n(54),O=n(108),v=n(109),j=n(107),w=n(110),y=n(111),P=n(37),E=n(39);function I(){var e=Object(m.a)(["{commonPersons(titles: ",") {name}}"]);return I=function(){return e},e}function x(){var e=Object(m.a)(['{films(search: "%','%", limit: 20) {id, title}}']);return x=function(){return e},e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e){var t=e.classes,n=a.a.useState(""),r=Object(d.a)(n,2),o=r[0],c=r[1],i=a.a.useState([]),l=Object(d.a)(i,2),u=l[0],s=l[1],p=a.a.useState([]),m=Object(d.a)(p,2),h=m[0],O=m[1],k=a.a.useState(""),q=Object(d.a)(k,2),B=q[0],D=q[1],N=new P.a({uri:"/graphql"});function C(e){return Object(P.b)(x(),e)}var W=Object(E.b)(300,Object(E.a)(300,function(e){if(e.length<3)return void O([]);N.query({query:C(e)}).then(function(e){var t=e.data.films.map(function(e){return{title:e.title}});O(t)})}));function F(e){!u.length||o.length||"Enter"!==e.key?u.length&&!o.length&&"Backspace"===e.key&&(s(u.slice(0,u.length-1)),D("")):N.query({query:Object(P.b)(I(),JSON.stringify(u))}).then(function(e){e.data.commonPersons.length?D(a.a.createElement("div",null,a.a.createElement("ul",null,e.data.commonPersons.map(function(e){return a.a.createElement("li",{key:e.name},e.name)})))):D(a.a.createElement("label",null,"No common persons"))})}var G=function(e){return function(){var t=Object(f.a)(u);t.splice(t.indexOf(e),1),s(t),D("")}};return a.a.createElement("div",null,a.a.createElement(b.a,{id:"downshift-multiple",inputValue:o,onChange:function(e){var t=Object(f.a)(u);-1===t.indexOf(e)&&(t=[].concat(Object(f.a)(t),[e])),c(""),s(t)},selectedItem:u},function(e){var n=e.getInputProps,r=e.getItemProps,o=e.getLabelProps,i=e.isOpen,l=e.selectedItem,u=e.highlightedIndex,s=n({onKeyDown:F,placeholder:"Select multiple films"}),p=s.onBlur,f=s.onChange,m=s.onFocus,d=Object(g.a)(s,["onBlur","onChange","onFocus"]);return a.a.createElement("div",{className:t.container},function(e){var t=e.InputProps,n=e.classes,r=e.ref,o=Object(g.a)(e,["InputProps","classes","ref"]);return a.a.createElement(v.a,Object.assign({InputProps:S({inputRef:r,classes:{root:n.inputRoot,input:n.inputInput}},t)},o))}({fullWidth:!0,classes:t,label:"Films",InputLabelProps:o(),InputProps:{startAdornment:l.map(function(e){return a.a.createElement(y.a,{key:e,tabIndex:-1,label:e,className:t.chip,onDelete:G(e)})}),onBlur:p,onChange:function(e){!function(e){c(e.target.value),W(e.target.value),D("")}(e),f(e)},onFocus:m},inputProps:d}),i?a.a.createElement(j.a,{className:t.paper,square:!0},h.map(function(e,t){return function(e){var t=e.suggestion,n=e.index,r=e.itemProps,o=e.highlightedIndex===n,c=(e.selectedItem||"").indexOf(t.title)>-1;return a.a.createElement(w.a,Object.assign({},r,{key:t.title,selected:o,component:"div",style:{fontWeight:c?500:400}}),t.title)}({suggestion:e,index:t,itemProps:r({item:e.title}),highlightedIndex:u,selectedItem:l})})):null)}),B)}var B=Object(O.a)(function(e){return{root:{flexGrow:1,height:250},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:e.spacing(2)}}});function D(){var e=B();return a.a.createElement("div",{className:e.root},a.a.createElement(q,{classes:e}))}var N=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("header",null,a.a.createElement(D,null)))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,1,2]]]);
//# sourceMappingURL=main.12852b61.chunk.js.map